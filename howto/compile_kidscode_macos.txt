# Compiler Kidscode

installer Xcode via AppStore

installer Xquartz

	https://www.xquartz.org/
	https://dl.bintray.com/xquartz/downloads/XQuartz-2.7.11.dmg
	double-cliquer sur XQuartz.pkg
	redémarrer
	
sudo xcodebuild -license
xcode-select --install

/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"

cat /etc/paths

export PATH=/usr/local/bin:$PATH
env

brew install git cmake freetype gettext hiredis irrlicht jpeg leveldb libogg libvorbis postgresql spatialindex
brew uninstall luajit

cd Documents
mkdir KIDSCODE
cd KIDSCODE
git clone -b gui https://github.com/cookiegranola/adel
cd adel
git clone -b beta https://github.com/cookiegranola/irrlicht lib/irrlicht
git clone --recursive https://github.com/cookiegranola/minetest_game games/minetest_game

d lib/irrlicht
cd source/Irrlicht
make
(make NDEBUG=1 pour la version release)
cd ../../../..

rm CMakeCache.txt
cmake . -DBUILD_CLIENT=1 -DBUILD_SERVER=0 -DRUN_IN_PLACE=1 -DIRRLICHT_INCLUDE_DIR=lib/irrlicht/include -DIRRLICHT_LIBRARY=lib/irrlicht/lib/MacOSX/libIrrlicht.a
make package

ouvrir minetest-0.5.0-dev-osx.zip
lancer minetest

---

# Tester l'outil de crytage sur les fichiers lua de test

cd util/crypt
cmake .
make
cd test
./run.sh

---

# Encrypter tous les fichiers lua du répertoire adel/games

cd util/crypt
cmake .
make
cd test
./encrypt_games.sh

Ensuite refaire un make package dans le répertoire adel.

---

# Références

https://forum.minetest.net/viewtopic.php?t=9190
https://github.com/mdoege/mtmake-osx
